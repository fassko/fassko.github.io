<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Kristaps Grinbergs"/><link rel="canonical" href="https://kristaps.me/blog/graphql-ios-swift"/><meta name="twitter:url" content="https://kristaps.me/blog/graphql-ios-swift"/><meta name="og:url" content="https://kristaps.me/blog/graphql-ios-swift"/><title>Using GraphQL in iOS with Swift | Kristaps Grinbergs</title><meta name="twitter:title" content="Using GraphQL in iOS with Swift | Kristaps Grinbergs"/><meta name="og:title" content="Using GraphQL in iOS with Swift | Kristaps Grinbergs"/><meta name="description" content="GraphQL is an alternative to the commonly used REST API approach. When using [GraphQL](https://graphql.org/) you only get one single endpoint to the server and through that endpoint you need to specify the exact data you need. It was created by Facebook in 2012 and open-sourced in 2015."/><meta name="twitter:description" content="GraphQL is an alternative to the commonly used REST API approach. When using [GraphQL](https://graphql.org/) you only get one single endpoint to the server and through that endpoint you need to specify the exact data you need. It was created by Facebook in 2012 and open-sourced in 2015."/><meta name="og:description" content="GraphQL is an alternative to the commonly used REST API approach. When using [GraphQL](https://graphql.org/) you only get one single endpoint to the server and through that endpoint you need to specify the exact data you need. It was created by Facebook in 2012 and open-sourced in 2015."/><meta name="og:site_name" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:title" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:description" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:image" content="https://kristaps.me/og-image.png"/><meta name="og:image:secure_url" content="https://kristaps.me/og-image.png"/><meta name="og:type" content="website"/><meta name="og:url" content="https://kristaps.me"/><meta name="og:image:secure_url" content="https://kristaps.me/og-image.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@fassko"/><meta name="twitter:title" content="Kristaps Grinbergs"/><meta name="twitter:description" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="twitter:image" content="fb-og.png"/><link href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet"/><link rel="apple-touch-icon-precomposed" sizes="120x120" href="apple-touch-icon-120x120.png"/><script async src="https://www.googletagmanager.com/gtag/js?id=G-HBCE3H3QVL"></script><script src="/scripts/ga.js"></script><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Kristaps Grinbergs"/></head><body><header class="header"><div class="header-wrapper"><div class="main-title"><a href="/">Kristaps Grinbergs</a></div><nav class="nav-container"><nav><ul class="nav"><li class="nav-item"><a href="/">home</a></li><li class="nav-item"><a href="/blog">blog</a></li><li class="nav-item"><a href="/talks">talks</a></li><li class="nav-item"><a href="/about">about</a></li></ul></nav></nav></div></header><div class="wrapper"><section class="blog-list"><div class="blog-item"><h1><a class="blog-title" href="/blog/graphql-ios-swift">Using GraphQL in iOS with Swift</a></h1><div class="blog-date"><ul class="blog-tags"><li><a href="/tags/swift">swift</a></li><li><a href="/tags/apple">apple</a></li><li><a href="/tags/graphql">graphql</a></li><li><a href="/tags/ios">ios</a></li><li><a href="/tags/xcode">xcode</a></li></ul>Aug 28, 2019</div><div class="blog-content"><p>GraphQL is an alternative to the commonly used REST API approach. When using <a href="https://graphql.org/">GraphQL</a> you only get one single endpoint to the server and through that endpoint you need to specify the exact data you need. It was created by Facebook in 2012 and open-sourced in 2015.</p><p>Using GraphQL in your Swift applications is not that hard. The easiest way is to use <a href="https://github.com/apollographql/apollo-ios">Apollo iOS</a> client which recently has seen a lot of great improvements and bug fixes. Apollo iOS is a strongly-typed, caching GraphQL client for iOS, macOS, iPadOS, watchOS, and tvOS. It is written in Swift programming language.</p><h2>GraphQL vs REST</h2><p>REST API exposes one endpoint for each specific type of information. For example:</p><ul><li><code>/visitors</code> - list of all visitors</li></ul><ul><li><code>/visitors/ID/</code> - concrete visitor details with ID</li></ul><p>Imagine you would like to get a visitor by his name. At first, you need to get the visitors list and search by name. Once you find specific visitor ID you can get the rest of the visitor details from another endpoint.</p><p>Using GraphQL you could do this with just one request to the server. You just need to specify what kind of data would you like to get in declarative GraphQL syntax:</p><pre><code>{
  <span class="call">allVisitors</span>(name: <span class="string">"John Appleseed"</span>) {
    id
    name
    reasonOfVisit
    isServed
    signInTime
    feeedback
    ...
  } 
}
</code></pre><p>This is just one simple example. In reality, you could get multiple levels of data with just one call to the server.</p><h2>Setting up GraphQL using Swift in iOS</h2><p>You can use GraphQL in your iOS, iPadOS, macOS, watchOS and tvOS apps. The easiest way is to use <a href="https://github.com/apollographql/apollo-ios">Apollo iOS SDK</a> which is a strongly-typed, caching GraphQL client. It is written in Swift programming language.</p><h3>Installation</h3><p>To set up Apollo client you need to <a href="https://www.apollographql.com/docs/ios/installation/#installing-the-apollo-framework">install Apollo framework</a> and <a href="https://www.apollographql.com/docs/ios/installation/#adding-a-schema-file-to-your-target-directory">generate schema file</a> which describes how you can get information from the server and add to your Xcode app target.</p><p>Then you <a href="https://www.apollographql.com/docs/ios/installation/#creating-graphql-files-with-your-queries-or-mutations">can create</a> <code>.graphql</code> files with your queries or mutations on how you would like to get or change data from the server. After that, you need to add <a href="https://www.apollographql.com/docs/ios/installation/#adding-a-code-generation-build-step">code generation</a> build step in Xcode build process to generate type-safe Swift code to use for communication with your server.</p><p>Build your Xcode app target and <a href="https://www.apollographql.com/docs/ios/installation/#adding-the-generated-api-file-to-your-target">add generated</a> API file to use it.</p><h3>Communicate with the server</h3><p>Once the installation process is done you can set up <code>ApolloClient</code> instance and point to your GraphQL server.</p><pre><code><span class="keyword">import</span> Apollo

<span class="keyword">let</span> graphQLClient = <span class="type">ApolloClient</span>(url: <span class="type">URL</span>(string: <span class="string">"http://localhost:8080/graphql"</span>)!)
</code></pre><p>Then you can use <code>graphQLClient</code> to fetch data and process query results.</p><pre><code><span class="keyword">let</span> allVisitorsQuery = <span class="type">AllVisitorsQuery</span>(name: <span class="string">"John"</span>)

graphQLClient.<span class="call">fetch</span>(query: allVisitorsQuery) { result <span class="keyword">in
  switch</span> result {
  <span class="keyword">case</span> .<span class="dotAccess">failure</span>(<span class="keyword">let</span> error):
    <span class="call">print</span>(<span class="string">"Something bad happened</span> \(error)<span class="string">"</span>)
  <span class="keyword">case</span> .<span class="dotAccess">success</span>(<span class="keyword">let</span> graphQLResult):
    <span class="keyword">guard let</span> john = graphQLResult.<span class="property">data</span>?.<span class="property">visitor</span> <span class="keyword">else</span> {
      <span class="keyword">return</span>
    }
    
    <span class="call">print</span>(john)  
}
</code></pre><p>This is just a simple example in some of the next posts we will look into how we can mutate data and even use Websockets subscriptions.</p><h2>GraphQL pros and cons</h2><p>Every technology has its pros and cons. You need to understand if the tradeoffs are worth switching away from regular REST API.</p><h3>Pros</h3><p>GraphQL makes it faster to implement, change and maintain your applications. You don’t need to communicate every smaller detail with your backend or even create new endpoints.</p><p>Using Apollo iOS framework helps a lot to use GraphQL in your Swift applications. It does support iOS, iPadOS, watchOS, macOS and tvOS. You can use Swift type safety and other great features like Result type and more.</p><p>Lately, Apollo iOS framework has seen a lot of great updates and more bugs are being fixed. More and more companies switch to use GraphQL not only in web, but their mobile applications too.</p><h3>Cons</h3><p>Using GraphQL is not that straight forward especially if you are used to REST API approach. Switching your thinking and adapting a new way can take some time. It also adds an extra layer between server and your apps which you need to maintain in the future.</p><p>With Apollo iOS SDK you need to be very careful with <a href="https://www.apollographql.com/docs/ios/watching-queries/">caching</a>. There are several ways to deal with cache and when to not cache at all. Just to be sure to check out official documentation before or if you run into any data inconsistency issues.</p><p>Apollo helps a lot to use GraphQL with Swift, but one downside is optionals. If you have the freedom to tell what kind of data you want from the server that comes with optionality tradeoff. It is a minor issue, just you need to deal with that when you construct your models and get data back from the server.</p><h2>TL;DR</h2><p>GraphQL is a modern way to communicate with your server. It can replace commonly used REST API approach. With GraphQL you communicate with the backend via just one endpoint using declarative syntax.</p><p>Using GraphQL in your Swift applications for iOS, iPadOS, watchOS, macOS and tvOS is easy using Apollo framework. It is officially supported by GraphQL community and lately, it has been well maintained and supported.</p><h2>Links</h2><ul><li>Official iOS GraphQL <a href="https://www.apollographql.com/docs/ios/">documentation</a> and <a href="https://github.com/apollographql/apollo-ios">repository</a></li><li><a href="https://troubled.pro/2019/02/graphql.html">Blog post</a></li><li>Series of articles by Big Nerd Ranch. <a href="https://www.bignerdranch.com/blog/using-graphql-in-production-ios-applications-part-1/">Part 1</a>, <a href="https://www.bignerdranch.com/blog/using-graphql-in-production-ios-applications-part-2/">Part 2</a> and <a href="https://www.bignerdranch.com/blog/using-graphql-in-production-ios-applications-part-3/">Part 3</a></li><li>CocoaHeads Stockholm <a href="https://www.youtube.com/watch?v=ArMgdV-VwJ8">presentation</a></li><li>Swift Summit <a href="https://www.skilled.io/u/swiftsummit/interfacing-with-graphql-in-swift">presentation</a></li></ul></div></div></section></div><footer class="footer"><p>Copyright © Kristaps Grinbergs. 2025.</p><p><a href="https://twitter.com/fassko" target="_blank">Twitter</a>•<a href="/feed.rss">RSS</a>•<a href="/about">Contact</a></p></footer></body></html>