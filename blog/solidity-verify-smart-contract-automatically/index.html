<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Kristaps Grinbergs"/><link rel="canonical" href="https://kristaps.me/blog/solidity-verify-smart-contract-automatically"/><meta name="twitter:url" content="https://kristaps.me/blog/solidity-verify-smart-contract-automatically"/><meta name="og:url" content="https://kristaps.me/blog/solidity-verify-smart-contract-automatically"/><title>Programmatically Verifying Solidity Smart Contract Code with Hardhat | Kristaps Grinbergs</title><meta name="twitter:title" content="Programmatically Verifying Solidity Smart Contract Code with Hardhat | Kristaps Grinbergs"/><meta name="og:title" content="Programmatically Verifying Solidity Smart Contract Code with Hardhat | Kristaps Grinbergs"/><meta name="description" content="In a previous [blog post](/blog/solidity-verify-smart-contract/), we discussed the importance of verifying Solidity smart contracts before deploying them onto the blockchain. However, there is a way to automate that process and make it more efficient. With the help of Hardhat, a popular development environment for Ethereum, developers can now verify their smart contract code programmatically as part of the deployment process. This means the verification process can be integrated into the development pipeline, ensuring the code is verified automatically each time the contract is deployed. This blog post will explore how to use Hardhat to verify smart contract code and streamline the verification process programmatically."/><meta name="twitter:description" content="In a previous [blog post](/blog/solidity-verify-smart-contract/), we discussed the importance of verifying Solidity smart contracts before deploying them onto the blockchain. However, there is a way to automate that process and make it more efficient. With the help of Hardhat, a popular development environment for Ethereum, developers can now verify their smart contract code programmatically as part of the deployment process. This means the verification process can be integrated into the development pipeline, ensuring the code is verified automatically each time the contract is deployed. This blog post will explore how to use Hardhat to verify smart contract code and streamline the verification process programmatically."/><meta name="og:description" content="In a previous [blog post](/blog/solidity-verify-smart-contract/), we discussed the importance of verifying Solidity smart contracts before deploying them onto the blockchain. However, there is a way to automate that process and make it more efficient. With the help of Hardhat, a popular development environment for Ethereum, developers can now verify their smart contract code programmatically as part of the deployment process. This means the verification process can be integrated into the development pipeline, ensuring the code is verified automatically each time the contract is deployed. This blog post will explore how to use Hardhat to verify smart contract code and streamline the verification process programmatically."/><meta name="og:site_name" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:title" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:description" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:image" content="https://kristaps.me/og-image.png"/><meta name="og:image:secure_url" content="https://kristaps.me/og-image.png"/><meta name="og:type" content="website"/><meta name="og:url" content="https://kristaps.me"/><meta name="og:image:secure_url" content="https://kristaps.me/og-image.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@fassko"/><meta name="twitter:title" content="Kristaps Grinbergs"/><meta name="twitter:description" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="twitter:image" content="fb-og.png"/><link href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet"/><link rel="apple-touch-icon-precomposed" sizes="120x120" href="apple-touch-icon-120x120.png"/><script async src="https://www.googletagmanager.com/gtag/js?id=G-HBCE3H3QVL"></script><script src="/scripts/ga.js"></script><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Kristaps Grinbergs"/></head><body><header class="header"><div class="header-wrapper"><div class="main-title"><a href="/">Kristaps Grinbergs</a></div><nav class="nav-container"><nav><ul class="nav"><li class="nav-item"><a href="/">home</a></li><li class="nav-item"><a href="/blog">blog</a></li><li class="nav-item"><a href="/talks">talks</a></li><li class="nav-item"><a href="/about">about</a></li></ul></nav></nav></div></header><div class="wrapper"><section class="blog-list"><div class="blog-item"><h1><a class="blog-title" href="/blog/solidity-verify-smart-contract-automatically">Programmatically Verifying Solidity Smart Contract Code with Hardhat</a></h1><div class="blog-date"><ul class="blog-tags"><li><a href="/tags/solidity">Solidity</a></li><li><a href="/tags/web3">web3</a></li><li><a href="/tags/hardhat">hardhat</a></li></ul>May 11, 2023</div><div class="blog-content"><p>In a previous <a href="/blog/solidity-verify-smart-contract/">blog post</a>, we discussed the importance of verifying Solidity smart contracts before deploying them onto the blockchain. However, there is a way to automate that process and make it more efficient. With the help of Hardhat, a popular development environment for Ethereum, developers can now verify their smart contract code programmatically as part of the deployment process. This means the verification process can be integrated into the development pipeline, ensuring the code is verified automatically each time the contract is deployed. This blog post will explore how to use Hardhat to verify smart contract code and streamline the verification process programmatically.</p><h2>Hardhat Runtime Environment</h2><p>HRE stands for Hardhat Runtime Environment. It provides a robust set of tools and APIs that can be used to verify the correctness of a smart contract code programmatically. Verification is an essential step in the development process of smart contracts, as it ensures that the code behaves as intended and is secure.</p><h2>Veryfing smart contract programmatically</h2><p>To programmatically verify a smart contract with HRE, we should use a plugin called <code>hardhat-etherscan</code> in combination with the HRE subtask <code>verify:verify</code>.</p><p>To verify the smart contract automatically, we need to pass:</p><ul><li>the network name that we can get from the Hardhat Network addon;</li><li>smart contract address;</li><li>constructor agruments.</li></ul><p>We should wait for the deploy transaction to be finished to avoid problems when verifying a smart contract that hasn't been deployed yet.</p><p>Let's now put it all together in a Hardhat script.</p><pre><code><span class="keyword">import</span> hre, { network, ethers } from <span class="string">"hardhat"</span>;

<span class="keyword">async</span> function <span class="call">main</span>() {
  const <span class="type">SaveNumber</span> = <span class="keyword">await</span> ethers.<span class="call">getContractFactory</span>(<span class="string">"SaveNumbero"</span>);

  const number = <span class="number">6</span>;

  const saveNumber = <span class="keyword">await</span> <span class="type">SaveNumber</span>.<span class="call">deploy</span>(number);

  <span class="keyword">await</span> saveNumber.<span class="call">deployed</span>();

  console.<span class="call">log</span>(`<span class="type">SecretNumber</span> deployed to ${saveNumber.<span class="property">address</span>}`);

  <span class="keyword">try</span> {
    console.<span class="call">log</span>(<span class="string">"\nEtherscan verification in progress..."</span>);
    <span class="keyword">await</span> saveNumber.<span class="property">deployTransaction</span>.<span class="call">wait</span>(<span class="number">6</span>);
    <span class="keyword">await</span> hre.<span class="call">run</span>(<span class="string">"verify:verify"</span>, {
      network: network.<span class="property">name</span>,
      address: saveNumber.<span class="property">address</span>,
      constructorArguments: [number],
    });
    console.<span class="call">log</span>(<span class="string">"Etherscan verification done. ✅"</span>);
  } <span class="keyword">catch</span> (error) {
    console.<span class="call">error</span>(error);
  }
}

<span class="call">main</span>().<span class="call">catch</span>((error) =&gt; {
  console.<span class="call">error</span>(error);
  process.<span class="property">exitCode</span> = <span class="number">1</span>;
});
</code></pre><h2>TL;DR</h2><p>Automated smart contract verification with HRE provides a much more streamlined and efficient way to verify smart contract code than manually verifying it from the terminal. It saves time and reduces the chances of errors compared to manual verification from the terminal.</p><h2>Links</h2><ul><li><a href="https://kristaps.me/blog/solidity-verify-smart-contract/">How Hardhat Simplifies Smart Contract Verification on Ethereum</a></li><li><a href="https://hardhat.org/hardhat-runner/docs/advanced/hardhat-runtime-environment#hardhat-runtime-environment-hre">Hardhat Runtime Environment (HRE)</a></li><li><a href="https://hardhat.org/hardhat-runner/plugins/nomicfoundation-hardhat-verify#using-programmatically"><code>hardhat-verify</code> documentation</a></li></ul></div></div></section></div><footer class="footer"><p>Copyright © Kristaps Grinbergs. 2025.</p><p><a href="https://twitter.com/fassko" target="_blank">Twitter</a>•<a href="/feed.rss">RSS</a>•<a href="/about">Contact</a></p></footer></body></html>