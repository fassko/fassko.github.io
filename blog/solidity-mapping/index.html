<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Kristaps Grinbergs"/><link rel="canonical" href="https://kristaps.me/blog/solidity-mapping"/><meta name="twitter:url" content="https://kristaps.me/blog/solidity-mapping"/><meta name="og:url" content="https://kristaps.me/blog/solidity-mapping"/><title>The Story behind Mapping in Solidity | Kristaps Grinbergs</title><meta name="twitter:title" content="The Story behind Mapping in Solidity | Kristaps Grinbergs"/><meta name="og:title" content="The Story behind Mapping in Solidity | Kristaps Grinbergs"/><meta name="description" content="Mappings in Solidity programming language play a significant role. These are hash tables that can have a key and value. When we use them, there are some caveats, especially from other programming languages. Let's explore them in this article."/><meta name="twitter:description" content="Mappings in Solidity programming language play a significant role. These are hash tables that can have a key and value. When we use them, there are some caveats, especially from other programming languages. Let's explore them in this article."/><meta name="og:description" content="Mappings in Solidity programming language play a significant role. These are hash tables that can have a key and value. When we use them, there are some caveats, especially from other programming languages. Let's explore them in this article."/><meta name="og:site_name" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:title" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:description" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:image" content="https://kristaps.me/og-image.png"/><meta name="og:image:secure_url" content="https://kristaps.me/og-image.png"/><meta name="og:type" content="website"/><meta name="og:url" content="https://kristaps.me"/><meta name="og:image:secure_url" content="https://kristaps.me/og-image.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@fassko"/><meta name="twitter:title" content="Kristaps Grinbergs"/><meta name="twitter:description" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="twitter:image" content="fb-og.png"/><link href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet"/><link rel="apple-touch-icon-precomposed" sizes="120x120" href="apple-touch-icon-120x120.png"/><script async src="https://www.googletagmanager.com/gtag/js?id=G-HBCE3H3QVL"></script><script src="/scripts/ga.js"></script><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Kristaps Grinbergs"/></head><body><header class="header"><div class="header-wrapper"><div class="main-title"><a href="/">Kristaps Grinbergs</a></div><nav class="nav-container"><nav><ul class="nav"><li class="nav-item"><a href="/">home</a></li><li class="nav-item"><a href="/blog">blog</a></li><li class="nav-item"><a href="/talks">talks</a></li><li class="nav-item"><a href="/about">about</a></li></ul></nav></nav></div></header><div class="wrapper"><section class="blog-list"><div class="blog-item"><h1><a class="blog-title" href="/blog/solidity-mapping">The Story behind Mapping in Solidity</a></h1><div class="blog-date"><ul class="blog-tags"><li><a href="/tags/swift">swift</a></li><li><a href="/tags/solidity">Solidity</a></li><li><a href="/tags/web3">web3</a></li><li><a href="/tags/mapping">mapping</a></li></ul>Apr 7, 2022</div><div class="blog-content"><p>Mappings in Solidity programming language play a significant role. These are hash tables that can have a key and value. When we use them, there are some caveats, especially from other programming languages. Let's explore them in this article.</p><h2>Mapping Keys and Values</h2><p>Mappings essentially are hash tables, so it means that the key is saved as a hash. To access the value, key is hashed and found in the mapping table.</p><h3>Limitations</h3><p>Mappings can be state variables, storage reference types in functions, or parameters for library functions. A mapping can't be returned, and it can't be used in structs or arrays that contain arrays.</p><p>The key type can be any built-in type, bytes, string, or enum value. Our defined types are not allowed. This is because Solidity knows how to hash the value.</p><p>Value types can be any - built-in or our defined types. It can even be a mapping that would create a double hash table.</p><h2>Reading and writing from Mapping</h2><p>Let's go over how we can read and write data in a mapping. Let's imagine we want to build a lucky number registry. Everyone with their wallet address can set and read their lucky number.</p><p>At first, we need to set up the mapping of the lucky numbers.</p><pre><code><span class="call">mapping</span>(address =&gt; uint256) <span class="keyword">private</span> luckyNumbers;
</code></pre><p>If we set the access level to the public, the getter function is compiled by default.</p><h3>Getting the value in the mapping</h3><p>To get the value from a mapping we need to know the key. Solidity behind the scenes will hash it and find it from the hash table.</p><pre><code>function <span class="call">getMyLuckyNumber</span>() external view <span class="call">returns</span>(uint256) {
  <span class="call">require</span>(luckyNumbers[msg.<span class="property">sender</span>] != <span class="number">0</span>, <span class="string">"0 can't be lucky"</span>);

  <span class="keyword">return</span> luckyNumbers[msg.<span class="property">sender</span>];
}
</code></pre><p>If the value does not exist, we get the default value, which is zero in the case of <code>uint256</code>.</p><h3>Setting the value in the mapping</h3><p>We need a key and value of the defined type that mapping can hold when setting the value. Be aware that this also updates the value if it has been already set.</p><pre><code>function <span class="call">setMyLuckyNumber</span>(uint256 number) <span class="call">external</span> {
  <span class="call">require</span>(number &gt; <span class="number">0</span>, <span class="string">"Can't be set to zero"</span>);

  luckyNumbers[msg.<span class="property">sender</span>] = number;
}
</code></pre><h2>TL;DR</h2><p>The mapping type is practically a hash table in the Solidity programming language with a key and value. There are some limitations, especially what we can define as the key. We need the key to get data from the mapping. Remember the default values for the type we're using in the value in case the value has not been set. When we are setting the value, we are also overwriting the old one.</p><h2>Links</h2><ul><li><a href="https://gist.github.com/fassko/488573feba1cf976b5854faeb1fd2ba8">Sample code</a></li></ul><ul><li><a href="https://docs.soliditylang.org/en/v0.8.13/types.html">Official documentation</a></li><li><a href="https://solidity-by-example.org/mapping/">Solidity by Example - Mapping</a></li></ul></div></div></section></div><footer class="footer"><p>Copyright © Kristaps Grinbergs. 2025.</p><p><a href="https://twitter.com/fassko" target="_blank">Twitter</a>•<a href="/feed.rss">RSS</a>•<a href="/about">Contact</a></p></footer></body></html>