<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Kristaps Grinbergs"/><link rel="canonical" href="https://kristaps.me/blog/solidity-royalties-eip-2981"/><meta name="twitter:url" content="https://kristaps.me/blog/solidity-royalties-eip-2981"/><meta name="og:url" content="https://kristaps.me/blog/solidity-royalties-eip-2981"/><title>Implementing the ERC-2981 NFT royalty standard with Solidity - a game-changer for creators to receive income from every sale | Kristaps Grinbergs</title><meta name="twitter:title" content="Implementing the ERC-2981 NFT royalty standard with Solidity - a game-changer for creators to receive income from every sale | Kristaps Grinbergs"/><meta name="og:title" content="Implementing the ERC-2981 NFT royalty standard with Solidity - a game-changer for creators to receive income from every sale | Kristaps Grinbergs"/><meta name="description" content="With the rise of NFTs on the Ethereum blockchain, creators can now monetize their digital art, music, videos, and other media in ways previously considered impossible. However, with the ownership and transfer of NFTs comes the question of royalties when creators receive payments for subsequent sales of their work. In this article, we will explore the concept of royalties in NFTs on Ethereum and how they are changing the landscape of digital ownership and creation."/><meta name="twitter:description" content="With the rise of NFTs on the Ethereum blockchain, creators can now monetize their digital art, music, videos, and other media in ways previously considered impossible. However, with the ownership and transfer of NFTs comes the question of royalties when creators receive payments for subsequent sales of their work. In this article, we will explore the concept of royalties in NFTs on Ethereum and how they are changing the landscape of digital ownership and creation."/><meta name="og:description" content="With the rise of NFTs on the Ethereum blockchain, creators can now monetize their digital art, music, videos, and other media in ways previously considered impossible. However, with the ownership and transfer of NFTs comes the question of royalties when creators receive payments for subsequent sales of their work. In this article, we will explore the concept of royalties in NFTs on Ethereum and how they are changing the landscape of digital ownership and creation."/><meta name="og:site_name" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:title" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:description" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:image" content="https://kristaps.me/og-image.png"/><meta name="og:image:secure_url" content="https://kristaps.me/og-image.png"/><meta name="og:type" content="website"/><meta name="og:url" content="https://kristaps.me"/><meta name="og:image:secure_url" content="https://kristaps.me/og-image.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@fassko"/><meta name="twitter:title" content="Kristaps Grinbergs"/><meta name="twitter:description" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="twitter:image" content="fb-og.png"/><link href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet"/><link rel="apple-touch-icon-precomposed" sizes="120x120" href="apple-touch-icon-120x120.png"/><script async src="https://www.googletagmanager.com/gtag/js?id=G-HBCE3H3QVL"></script><script src="/scripts/ga.js"></script><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Kristaps Grinbergs"/></head><body><header class="header"><div class="header-wrapper"><div class="main-title"><a href="/">Kristaps Grinbergs</a></div><nav class="nav-container"><nav><ul class="nav"><li class="nav-item"><a href="/">home</a></li><li class="nav-item"><a href="/blog">blog</a></li><li class="nav-item"><a href="/talks">talks</a></li><li class="nav-item"><a href="/about">about</a></li></ul></nav></nav></div></header><div class="wrapper"><section class="blog-list"><div class="blog-item"><h1><a class="blog-title" href="/blog/solidity-royalties-eip-2981">Implementing the ERC-2981 NFT royalty standard with Solidity - a game-changer for creators to receive income from every sale</a></h1><div class="blog-date"><ul class="blog-tags"><li><a href="/tags/solidity">Solidity</a></li><li><a href="/tags/web3">web3</a></li></ul>Mar 28, 2023</div><div class="blog-content"><p>With the rise of NFTs on the Ethereum blockchain, creators can now monetize their digital art, music, videos, and other media in ways previously considered impossible. However, with the ownership and transfer of NFTs comes the question of royalties when creators receive payments for subsequent sales of their work. In this article, we will explore the concept of royalties in NFTs on Ethereum and how they are changing the landscape of digital ownership and creation.</p><h2>The NFT royalty standard</h2><p>The ERC-2981, also known as the NFT Royalty Standard, is a proposal for a new Ethereum token standard that addresses this need. By implementing ERC-2981, creators can receive a percentage of each subsequent sale of their NFTs on the secondary market. It outlines rules for how royalty payments are calculated and transferred automatically to the creator's wallet whenever their NFT is resold on the secondary market.</p><p>Implementing ERC-2981 would provide a transparent and efficient way for creators to receive a fair share of the profits from their NFTs, regardless of how many times they are resold.</p><h2>OpenZeppelin NFT royalties implementation</h2><p>OpenZeppelin is a widely recognized leader in the blockchain industry, and its Royalties Standard for NFTs builds on ERC-2981 to provide an even more comprehensive solution for tracking and distributing royalties. With OpenZeppelin's Royalties Standard, creators can rest assured that they are fairly compensated for their work and have greater control over how their creations are sold and distributed.</p><p>There are other implementations, or we can create our own according to the ERC-2981 standard, but that is out of the scope of this article.</p><h2>Using the NFT royalty standard</h2><p>ERC721Royalty extension is one of the many extensions OpenZeppelin provides, which adds a royalty payment mechanism to the ERC721 token standard.</p><p>The ERC721Royalty extension adds a new function to the ERC721 standard called <code>_setTokenRoyalty</code> for a specific NFT or <code>_setDefaultRoyalty</code> for all the NFTs. This function allows a creator of an NFT to set a percentage of each sale that will be paid as a royalty to them. The royalty payment is automatically deducted from the sale price of the NFT and transferred to a creator.</p><p>To use the <code>ERC721Royalty</code> extension, we must inherit our NFT smart contract from the <code>ERC721Royalty</code> and either set royalty. Let's check out both ways, setting it for all the NFTs and specific ones.</p><pre><code><span class="keyword">import</span> <span class="string">"@openzeppelin/contracts/token/ERC721/extensions/ERC721Royalty.sol"</span>;

contract <span class="type">Royalties</span> <span class="keyword">is</span> <span class="type">ERC721Royalty</span> {
<span class="comment">// ...</span>
}
</code></pre><h3>Setting royalties per NFT</h3><p>To set the royalties fee per specific NFT, we need to use the <code>_setTokenRoyalty</code> function while minting the NFT. We need to provide the royalty-received address and fee numerator. The fee numerator is a percentage. For example, if an NFT is sold for 1 ETH and the royalty fee is set to 10%, the original creator would receive 0.1 ETH for that deal. If an NFT is sold for 2 ETH the next time, the original creator will receive another 0.2 ETH for that next deal, and so on, every time that NFT is sold in the future.</p><pre><code>function <span class="call">safeMint</span>(
  address to, 
  uint256 tokenId, 
  address receiver, 
  uint96 feeNumerator
) <span class="keyword">public</span> {
  <span class="call">_safeMint</span>(to, tokenId);

  <span class="call">_setTokenRoyalty</span>(tokenId, receiver, feeNumerator);
}
</code></pre><p>Now when minting an NFT, we can provide these values.</p><img src="/assets/solidity-erc-721-royalties/royalty-per-nft.png" alt="Royalty per NFT"/><p>For the fee numerator, we are specifying it as a percentage without a coma. It means that <strong>1000</strong> is equivalent to <strong>10%</strong>.</p><p>Now receiver will receive 10% from each resale on NFT marketplaces like OpenSea or Rarible.</p><h3>Setting royalties for all NFTs</h3><p>The most straightforward way to specify a royalty fee is to configure that for all the NFTs equally. To do that, we can call the <code>_setDefaultRoyalty</code> function when deploying the smart contract. We must provide the royalty fee receiver and fee numerator similar to what we did per each NFT.</p><pre><code><span class="call">constructor</span>(address _receiver, uint96 feeNumerator) 
  <span class="type">ERC721</span>(<span class="string">"Royalties"</span>, <span class="string">"RYLT"</span>) {
  <span class="call">_setDefaultRoyalty</span>(_receiver, feeNumerator);
}
</code></pre><img src="/assets/solidity-erc-721-royalties/royalty-all-nfts.png" alt="Royalty for all NFTs"/><p>Now, all the NFT resales on marketplaces will require a royalty fee of 10% to be transferred to a creator.</p><h2>TL;DR</h2><p>The NFT royalties enable creators to earn royalties on the secondary market sales of their NFTs, similar to how artists and musicians receive royalties when their work is resold.</p><p>ERC-2981 is a standard for NFTs that specifies how creators of NFTs can receive a percentage of any future sales or transfers of their NFTs.</p><p>The OpenZeppelin ERC721Royalty extension makes adding royalty functionality to your NFTs smart contracts easy.</p><h2>Links</h2><ul><li><a href="https://gist.github.com/fassko/e8f7c2b8bb263f8337845126a757f6c0">Sample code</a></li></ul><ul><li><a href="https://eips.ethereum.org/EIPS/eip-2981">ERC-2981: NFT Royalty Standard</a></li><li><a href="https://docs.openzeppelin.com/contracts/4.x/api/token/common#ERC2981">The ERC-2981 implementation by OpenZeppelin</a></li></ul></div></div></section></div><footer class="footer"><p>Copyright © Kristaps Grinbergs. 2025.</p><p><a href="https://twitter.com/fassko" target="_blank">Twitter</a>•<a href="/feed.rss">RSS</a>•<a href="/about">Contact</a></p></footer></body></html>