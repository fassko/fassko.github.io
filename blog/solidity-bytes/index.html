<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Kristaps Grinbergs"/><link rel="canonical" href="https://kristaps.me/blog/solidity-bytes"/><meta name="twitter:url" content="https://kristaps.me/blog/solidity-bytes"/><meta name="og:url" content="https://kristaps.me/blog/solidity-bytes"/><title>How do Bytes live in Solidity and coexist with Strings? | Kristaps Grinbergs</title><meta name="twitter:title" content="How do Bytes live in Solidity and coexist with Strings? | Kristaps Grinbergs"/><meta name="og:title" content="How do Bytes live in Solidity and coexist with Strings? | Kristaps Grinbergs"/><meta name="description" content="Bytes and Strings have a special place in the Solidity programming language. Both of these types work quite similarly yet differently. Even bytes have two kinds of ways - fixed or dynamic size. Bytes and strings can be converted and vice versa according to our needs to work with them. Let's look more profound in this blog post."/><meta name="twitter:description" content="Bytes and Strings have a special place in the Solidity programming language. Both of these types work quite similarly yet differently. Even bytes have two kinds of ways - fixed or dynamic size. Bytes and strings can be converted and vice versa according to our needs to work with them. Let's look more profound in this blog post."/><meta name="og:description" content="Bytes and Strings have a special place in the Solidity programming language. Both of these types work quite similarly yet differently. Even bytes have two kinds of ways - fixed or dynamic size. Bytes and strings can be converted and vice versa according to our needs to work with them. Let's look more profound in this blog post."/><meta name="og:site_name" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:title" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:description" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="og:image" content="https://kristaps.me/og-image.png"/><meta name="og:image:secure_url" content="https://kristaps.me/og-image.png"/><meta name="og:type" content="website"/><meta name="og:url" content="https://kristaps.me"/><meta name="og:image:secure_url" content="https://kristaps.me/og-image.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@fassko"/><meta name="twitter:title" content="Kristaps Grinbergs"/><meta name="twitter:description" content="Kristaps Grinbergs - Blockchain, mobile and fullstack developer. Startup founder. Conference speaker. Mentor. Passionate about building products, sustainability and Web 3.0"/><meta name="twitter:image" content="fb-og.png"/><link href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet"/><link rel="apple-touch-icon-precomposed" sizes="120x120" href="apple-touch-icon-120x120.png"/><script async src="https://www.googletagmanager.com/gtag/js?id=G-HBCE3H3QVL"></script><script src="/scripts/ga.js"></script><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Kristaps Grinbergs"/></head><body><header class="header"><div class="header-wrapper"><div class="main-title"><a href="/">Kristaps Grinbergs</a></div><nav class="nav-container"><nav><ul class="nav"><li class="nav-item"><a href="/">home</a></li><li class="nav-item"><a href="/blog">blog</a></li><li class="nav-item"><a href="/talks">talks</a></li><li class="nav-item"><a href="/about">about</a></li></ul></nav></nav></div></header><div class="wrapper"><section class="blog-list"><div class="blog-item"><h1><a class="blog-title" href="/blog/solidity-bytes">How do Bytes live in Solidity and coexist with Strings?</a></h1><div class="blog-date"><ul class="blog-tags"><li><a href="/tags/solidity">Solidity</a></li><li><a href="/tags/web3">web3</a></li><li><a href="/tags/bytes">bytes</a></li></ul>Nov 22, 2022</div><div class="blog-content"><p>Bytes and Strings have a special place in the Solidity programming language. Both of these types work quite similarly yet differently. Even bytes have two kinds of ways - fixed or dynamic size. Bytes and strings can be converted and vice versa according to our needs to work with them. Let's look more profound in this blog post.</p><h2>The fixed size byte array</h2><p>If we know the size of the bytes we want to store, the best approach is to use the fixed size byte array type. Solidity language allows storing from 1 to 32 bytes in a sequence. Using a known upfront size to store bytes costs much cheaper in terms of gas fees.</p><p>To initialize a fixed size byte array, we need to specify the size of how many bytes we would like to store.</p><pre><code>bytes1 b1 = <span class="string">hex"41";</span>
</code></pre><p>Bytes can be initialized with either a hex string <code>hex"41"</code> or a hex value <code>0X41</code> which is the letter <code>A</code> according to ASCII.</p><p>Another important note is that fixed size bytes can be passed between smart contracts in the Solidity programming language.</p><h2>The dynamic size byte array</h2><p>Dynamic size byte array can hold a variable count of bytes.</p><p>It is possible to get back the index of bytes which is not the case for string type.</p><pre><code>function <span class="call">dynamicBytesMemoryNew</span>() external view <span class="call">returns</span>(bytes memory) {
  bytes memory _dynamicBytesMemoryNew = new <span class="call">bytes</span>(<span class="number">200</span>);

  _dynamicBytesMemoryNew[<span class="number">0</span>] = <span class="string">hex"41";</span>

  console.<span class="call">log</span>(<span class="call">string</span>(_dynamicBytesMemoryNew));

  <span class="keyword">return</span> _dynamicBytesMemoryNew;
}
</code></pre><p>There are several ways to allocate bytes in Solidity language in the memory.</p><h3>Dynamic size byte array in storage</h3><p>When allocating dynamic bytes on storage, we need to provide the maximum size of how much we want that to hold.</p><pre><code>bytes _dynamicBytesStorage = new <span class="call">bytes</span>(<span class="number">200</span>);
</code></pre><p>If we allocate a dynamic size byte array in the storage, we can use the <code>pop</code> and <code>push</code> methods. Just keep in mind that it can be costly to do.</p><pre><code>function <span class="call">dynamicBytesStorage</span>() external <span class="call">returns</span>(bytes memory) {
  _dynamicBytesStorage.<span class="call">push</span>(<span class="string">hex"41");</span>

  console.<span class="call">log</span>(<span class="call">string</span>(_dynamicBytesStorage));

  <span class="keyword">return</span> _dynamicBytesStorage;
}
</code></pre><h3>Dynamic size byte array in memory</h3><p>When allocating dynamic bytes array in the memory, we don't need to specify the size.</p><pre><code>function <span class="call">dynamicBytesMemory</span>() external view <span class="call">returns</span>(bytes memory) {
  bytes memory _dynamicBytesMemory = <span class="string">hex"41";</span>

  console.<span class="call">log</span>(<span class="call">string</span>(_dynamicBytesMemory));

  <span class="keyword">return</span> _dynamicBytesMemory;
}
</code></pre><h2>Strings are bytes (almost)</h2><p>String type in Solidity is almost like the dynamic array of bytes. It can hold an arbitrary length of data of characters. This time we won't go more profound about this type but look at it in the context of bytes.</p><p>We can cast any string to bytes. That allows us to modify and read characters at the byte level. It means we need to handle characters at the ASCII level.</p><p>One critical note is that strings can't be passed between smart contracts. We need to head down to the bytes level for that. But it is doable to convert between these types.</p><h3>Converting to bytes</h3><p>Converting a string to bytes is a straightforward task. We need to initialize bytes passing in the string type. In return, we get a dynamic array of bytes.</p><pre><code>bytes memory stringBytes = <span class="call">bytes</span>(<span class="string">"This is string"</span>);
</code></pre><p>If we want to convert to the <code>bytes32</code> type, we need to go to the assembly level and write the string on the memory.</p><pre><code>bytes32 result;

<span class="call">assembly</span> {
  result := <span class="call">mload</span>(<span class="call">add</span>(<span class="string">"This is string"</span>, <span class="number">32</span>))
}
</code></pre><p>Keep in mind that we can write only up to 32 bytes.</p><h3>Converting from bytes</h3><p>In Solidity language, we can convert back the string value to a dynamic size array of bytes. We can't convert to fixed string bytes because the string type has an unknown size.</p><pre><code>bytes memory bytesData = <span class="string">hex"41";</span>
string memory stringData = <span class="call">string</span>(bytesData);
</code></pre><h2>TL;DR</h2><p>Bytes play a vital role in the Solidity programming language. It can hold any data in either fixed or dynamic size byte array. For instance, strings that are very similar to bytes but with limited functionality. Luckily converting between strings and bytes is doable with some minor caveats.</p><h2>Links</h2><ul><li><a href="https://gist.github.com/fassko/548c83158f4006c38e70e5dceed2a8cb">Sample code</a></li></ul><ul><li><a href="https://solang.readthedocs.io/en/latest/language/types.html#fixed-length-byte-arrays">Fixed length byte arrays</a></li><li><a href="https://solang.readthedocs.io/en/latest/language/types.html#dynamic-length-bytes">Dynamic length bytes</a></li><li><a href="https://jeancvllr.medium.com/solidity-tutorial-all-about-bytes-9d88fdb22676">Solidity Tutorial : all about Bytes</a></li></ul></div></div></section></div><footer class="footer"><p>Copyright © Kristaps Grinbergs. 2025.</p><p><a href="https://twitter.com/fassko" target="_blank">Twitter</a>•<a href="/feed.rss">RSS</a>•<a href="/about">Contact</a></p></footer></body></html>