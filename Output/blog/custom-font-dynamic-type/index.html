<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Kristaps Grinbergs"/><link rel="canonical" href="https://kristaps.me/blog/custom-font-dynamic-type"/><meta name="twitter:url" content="https://kristaps.me/blog/custom-font-dynamic-type"/><meta name="og:url" content="https://kristaps.me/blog/custom-font-dynamic-type"/><title>Use Custom Font with Dynamic Type in iOS apps | Kristaps Grinbergs</title><meta name="twitter:title" content="Use Custom Font with Dynamic Type in iOS apps | Kristaps Grinbergs"/><meta name="og:title" content="Use Custom Font with Dynamic Type in iOS apps | Kristaps Grinbergs"/><meta name="description" content="A while back we looked into dynamic type with the system font. This time we are going to check out how to use the dynamic type with a custom font in our iOS apps. Apple provides great APIs to make our apps accessible even if we're using custom font styles."/><meta name="twitter:description" content="A while back we looked into dynamic type with the system font. This time we are going to check out how to use the dynamic type with a custom font in our iOS apps. Apple provides great APIs to make our apps accessible even if we're using custom font styles."/><meta name="og:description" content="A while back we looked into dynamic type with the system font. This time we are going to check out how to use the dynamic type with a custom font in our iOS apps. Apple provides great APIs to make our apps accessible even if we're using custom font styles."/><meta name="og:site_name" content="Kristaps Grinbergs - iOS and Apple technology developer. Startup founder. Conference speaker."/><meta name="og:title" content="Kristaps Grinbergs - iOS and Apple technology developer. Startup founder. Conference speaker."/><meta name="og:description" content="Kristaps Grinbergs - iOS and Apple technology developer. Startup founder. Conference speaker."/><meta name="og:image" content="linkedin.png"/><meta name="og:type" content="website"/><meta name="og:url" content="https://kristaps.me"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@fassko"/><meta name="twitter:title" content="Kristaps Grinbergs"/><meta name="twitter:description" content="Kristaps Grinbergs - iOS and Apple technology developer. Startup founder. Conference speaker."/><meta name="twitter:image" content="fb-og.png"/><link href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet"/><link rel="apple-touch-icon-precomposed" sizes="120x120" href="apple-touch-icon-120x120.png"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Kristaps Grinbergs"/></head><body><header class="header"><div class="header-wrapper"><div class="main-title"><a href="/">Kristaps Grinbergs</a></div><nav class="nav-container"><nav><ul class="nav"><li class="nav-item"><a href="/">home</a></li><li class="nav-item"><a href="/blog">blog</a></li><li class="nav-item"><a href="/talks">talks</a></li><li class="nav-item"><a href="/about">about</a></li></ul></nav></nav></div></header><div class="wrapper"><section class="blog-list"><div class="blog-item"><h1 class="blog-title">Use Custom Font with Dynamic Type in iOS apps</h1><div class="blog-date">26 Sep 2020</div><div class="blog-content"><p>A while back we <a href="/embracing-dynamic-type/">looked into</a> dynamic type with the system font. This time we are going to check out how to use the dynamic type with a custom font in our iOS apps. Apple provides great APIs to make our apps accessible even if we're using custom font styles.</p><h2>Add custom font to app</h2><p>At first, we need to add our custom font to the project. There are several steps involved so let's go over them.</p><p>We need to add a font file to the Xcode app project. Currently <strong>True Type Font</strong> (.ttf) and <strong>Open Type Font</strong> (.otf) files are being supported. Just drag and drop files in your XCode project. Be careful and select targets you want to use this font in.</p><img src="/assets/img/custom-dynamic-type/add-custom-font-to-xcode.gif" alt="Add custom font to Xcode"/><p>If you forget to add the font to specific target membership in your Xcode project, you will run into an issue when the font file is not found.</p><img src="/assets/img/custom-dynamic-type/error-font-file-not-found.png" alt="Custom font not found"/><p>To fix that just check the checkbox and add it to your designated target.</p><img src="/assets/img/custom-dynamic-type/custom-font-xcode-target-membership.png" alt="Add custom font to target membership"/><p>After that is done head down to the <code>Info.plist</code> file and add a new entry with key <code>Fonts provided by application</code>. There we need to provide an array with all the font files we have added to the project.</p><p>Check that the font files have been added and that we can use this piece of code to print all available font families and names:</p><pre><code><span class="type">UIFont</span>.<span class="property">familyNames</span>.<span class="call">sorted</span>().<span class="call">forEach</span> { fontFamily <span class="keyword">in</span>
  <span class="call">print</span>(<span class="string">"Family:</span> \(fontFamily)<span class="string">"</span>)
  
  <span class="type">UIFont</span>.<span class="call">fontNames</span>(forFamilyName: fontFamily).<span class="call">forEach</span> { fontName <span class="keyword">in</span>
    <span class="call">print</span>(<span class="string">"name:</span> \(fontName)<span class="string">"</span>)
  }
}
</code></pre><p>Just paste this code in your <code>AppDelegate</code> <code>didFinishLaunchingWithOptions</code> and when you run the app it will print font families and names in the console.</p><h2>Use Custom Font with Dynamic type</h2><p>To use Dynamic Type with custom fonts we need to use <code>UIFontMetrics</code>. It is a utility object that helps to obtain custom fonts that scale accordingly to text size presences and accessibility settings. In other words, this class helps us to show the custom font taking into account user font and accessibility settings.</p><p>To do it at first we need to initialize an instance of a custom font with a concrete size. To determine specific size we can use the dynamic type sizes <a href="https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/typography/">table</a> from the human interface guidelines typography section.</p><img src="/assets/img/custom-dynamic-type/dynamic-type-sizes-ios.png" alt="Dynamic Type Sizes in iOS"/><p>Let’s say we have added a label that has a large title behavior, so it means we need to use a 34 point size font. Then we use <code>UIFontMetrics</code> and initialize an instance for a specific text style. In the end, we set the font for our label using the <code>scaledFont</code> function and provide our custom font.</p><pre><code><span class="keyword">guard let</span> font = <span class="type">UIFont</span>(name: <span class="string">"Proxima Nova-Regular"</span>, size: <span class="number">34</span>) <span class="keyword">else</span> {
  <span class="call">fatalError</span>(<span class="string">"Can't find the custom font"</span>)
}

<span class="keyword">let</span> fontMetrics = <span class="type">UIFontMetrics</span>(forTextStyle: .<span class="dotAccess">largeTitle</span>)
label.<span class="property">font</span> = fontMetrics.<span class="call">scaledFont</span>(for: font)
</code></pre><h2>Update upon Text Size changes</h2><p>To test how everything works we can enable text size in Xcode Environment Overrides.</p><img src="/assets/img/custom-dynamic-type/xcode-environment-overrides-dynamic-type.png" alt="Enable Dynamic Type in Xcode Environment OVerrides"/><p>If you change it you can notice that nothing is happening in our app. To enable automatic change we need to set <code>adjustsFontForContentSizeCategory</code>. It indicates that the object should automatically update it’s font when device category changes.</p><pre><code>label.<span class="property">adjustsFontForContentSizeCategory</span> = <span class="keyword">true</span>
</code></pre><p>Now we can fully test and we should see that our label font adjusts according to the text size and accessibility settings.<br>## TL;DR</p><p>Supporting Dynamic Type with custom font might sound like a tricky task to do, but it doesn't have to be. Using the <code>UIFontMetrics</code> utility object we can scale our custom font according to what the user has specified in text size or accessibility settings.</p><h2>Links</h2><ul><li><a href="https://github.com/fassko/custom-font-dynamic-type">Example app</a></li></ul><ul><li><a href="https://developer.apple.com/videos/play/wwdc2017/245/">Building Apps with Dynamic Type</a></li><li><a href="https://www.hackingwithswift.com/example-code/uikit/how-to-resize-a-custom-font-using-uifontmetrics">How to resize a custom font using UIFontMetrics</a></li><li><a href="https://useyourloaf.com/blog/using-a-custom-font-with-dynamic-type/">Using A Custom Font With Dynamic Type</a></li><li><a href="https://learnui.design/blog/ios-font-size-guidelines.html">The iOS Font Size Guidelines</a></li><li><a href="https://developer.apple.com/documentation/uikit/text_display_and_fonts/adding_a_custom_font_to_your_app">Adding a Custom Font to Your App</a></li><li><a href="https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/typography/">Typography - Human Interface Guidelines</a></li></ul></div></div></section></div><footer class="footer">Copyright © Kristaps Grinbergs. 2020</footer></body></html>